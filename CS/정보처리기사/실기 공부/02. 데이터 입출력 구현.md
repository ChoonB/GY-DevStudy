# 데이터 입출력 구현 1
## DBMS
데이터베이스 관리 시스템. 사용자의 요구에 따라 정보를 생성주고 데이터베이스를 관리해주는 SW
* 필수기능 : 정의(타입,구조,제약조건명시), 조작(CRUD), 제어(무결성,보안 제어)

### 스키마(Schema) - A
데이터베이스의 구조와 제약조건에 관한 전반적인 명세
* 외부스키마 : 사용자가 `개인`의 입장에서 `필요`로 하는 DB의 논리적 구조를 정의한 것
* 개념스키마 : DB의 `전체`적인 논리적 구조. 조직 전체의 DB로 `하나만` 존재함
* 내부스키마 : `물리적` 저장장치 입장에서 본 DB 구조. `실제로` 저장될 레코드의 형식, 내부 레코드의 물리적 순서 등을 나타낸다.

***

## DB 설계 순서 - A
요구조건분석 -> 개념적 설계 -> 논리적 설계 -> 물리적 설계 -> 구현

1. 요구조건 분석 : 요구 조건 명세서 작성

2. 개념적 설계 - A
다른사람과 통신하기 위해 현실세계에 대한 인식을 추상적 개념으로 표현하는 과정
개념 스키마, 트랜잭션 모델링, 요구조건 명세서를 DBMS에 독립적인 E-R다이어그램으로 작성

3. 논리적 설계 - A
현실세계에서 발생하는 자료를 특정 DBMS가 지원하는 자료구조로 변환(매핑)하는 과정
DBMS에 따라 서로 다른 논리적 스키마를 설계하는 단계.
트랜잭션의 인터페이스를 설계하고 정규화를 통해 스키마를 평가 및 정제

4. 물리적 설계 - A
논리적 설계에서 논리 구조로 표현된 데이터를 물리적 저장장치에 저장할 수 있는 물리적 구조의 데이터로 변환하는 과정
파일의 저장 구조 및 엑세스 경로를 결정. 테이블 정의서 및 명세서가 산출된다.

5. 구현 : 목표 DBMS의 DDL로 DB생성. 트랜잭션 작성

***

## 데이터 모델 - A
현실세계의 정보들을 단순화, 추상화 해 체계적으로 표현한 개념
* 데이터 모델의 구성요소
구조 : 논리적으로 표현된 개체 타입들간의 `관계`. 데이터 `구조` 및 정적 성질 표현
연산 : DB에 저장된 실제 데이터를 처리하는 작업에 대한 명세. DB를 조작하는 `기본 도구`
제약 조건 : DB에 저장될 수 있는 실제 데이터의 논리적 제약 조건

### E-R 다이어그램
사각형 - 개체(Entity) 타입
마름모 - 관계(Relationship) 타입
타원 - 속성(Attribute)
이중타원 - 다중값 속성(복합 속성)
밑줄 타원 - 기본키 속성
복수 타원 - 복합 속성(성명 - 성 / 이름)
관계 : 1:1 1:N N:M 등 개체간 관계에 대한 대응 수를 선위에 기술
선 : 개체타입과 속성을 연결

***

## 관계형 DB의 릴레이션 구조 - A
릴레이션은 데이터를 표(테이블) 형태로 표현한 것. 
구조를 나타내는 릴레이션 스키마와 실제 값을 가진 튜플을 의미하는 릴레이션 인스턴스로 구성된다.
* 릴레이션의 구조
학생 릴레이션에서 학번, 이름, 학과에 대한 정보가 있다고 하면,
학번, 이름, 학과는 `속성`(Attribute). 19001 김춘복 경영 처럼 가로행은 `튜플`(Tuple),
경영, 컴공, 디자인 처럼 한 속성에 대한 세로열은 `도메인`(Domain).

### 튜플 - A
릴레이션을 구성하는 각각의 행. 속성의 모임. 파일 구조에서 레코드와 같은 의미.
`튜플의 수를 카디널리티`(Cardinality)나 기수, 대응수라고 한다.

### 속성 - A
DB를 구성하는가장 작은 논리적단위. 개체의 특성을 기술. 파일 구조상 데이터 항목, 필드에 해당.
`속성의 수를 Degree, 차수`라고 한다. (속성이 4개면 degree 차수도 4개)

### 도메인
하나의 속성이 취할  수 있는 같은 타입의 원자값들의  `집합`.
ex) 성별의 도메인은 "남"과 "여"

***

## 키(Key)
DB에서 조건에 맞는 튜플을 찾거나 정렬할 때 기준이 되는 속성.

### 후보키(Candidate Key) - A
튜플을 유일하게 식별하기 위해 사용되는 속성들의 부분 집합. 기본키로 사용할 수  있는 속성들.
* 후보키의 조건
1. `유일성`(Unique) : 하나의 키 값으로 하나의 튜플만 유일하게 식별할  수 있어야 한다.
2. `최소성`(Minimality) : 키를 구성하는 속성 하나를 제거하면 유일하게 식별 불가능하도록 최소의 속성으로 구성되어야 한다. 꼭 필요한 속성들로만 구성되어있나?

### 기본키(Primary Key)
후보키 중에서 선정된 Main key. 후보키의 특징 그대로 물려받는다.
중복 불가능. 유일성. Not Null. 외래키로 참조 가능.

### 대체키(Alternate Key)
= 보조키. 후보키가 둘 이상일때, 기본키를 제외한 나머지 후보키.

### 슈퍼키(Super Key) - A
속성들의 집합으로 구성된 키. 해당 키로 릴레이션에서 튜플을 서로 구분만 할 수 있으면 슈퍼키.
릴레이션을 구성하는 모든 튜플에대해 `유일성은 만족하지만 최소성은 만족하지 못한다`.

### 외래키(Foreign Key)
다른 릴레이션의 기본키를 참조하는 속성.
한 릴레이션에 속한 속성 A와 참조 릴레이션의 기본키인 B가 같은 도메인 상에서 정의되었을 때 A를 외래키라고 한다.

### 무결성(Integrity)
DB에 저장된 데이터가 현실 세계의 실제값과 일치하는지 정확성.
* 개체 무결성 : 기본키는 null이나 중복값을 가질 수 없다. 기본키로 튜플의 구분이 되어야 한다.
* 참조 무결성 : 외래키 값은 참조 릴레이션의 기본키와 같거나 아예 null이어야 한다.
즉, 참조할 수 없는 외래키 값을 가질 수 없다.

***

## 관계대수
관계형 DB에서 원하는 정보와 그 정보를 검색하기 위해 어떻게 유도하는가를기술하는 절차적 언어.
릴레이션을 처리하기 위해 연산자와 연산규칙 제공. 피연산자와 연산 결과 모두 릴레이션.
주어진 릴레이션 조작을 위한 연산의 집합.

### 순수 관계 연산자 - A
* Select : 시그마(σ)기호. 조건을 만족하는 튜플의 부분 집합을 구해 새로운 릴레이션을 만드는 연산
릴레이션의 행에 해당하는 튜플을 구하는 것이므로 수평연산이라고도 한다.

* Project : 파이(π) 기호. 속성 리스트에 제시된 속성 값만 추출해 새로운 릴레이션을 만드는  연산
릴레이션의 열에 해당하는 속성을 추출하는 것이므로 수직연산자라고도 한다.

* Join : ⋈ 기호. 공통 속성을 중심으로 두 릴레이션을 하나로 합쳐 새로운 릴레이션을 만드는 연산.
교차 곱을 수행한 다음 select를 수행하는 결과와 같다.

* Division :  ÷ 기호. X ⊃ Y 두 개의 릴레이션 R(X)와 S(Y)가 있을 때, R의 속성이 S의 속성값을 모두 가진 튜플에서 S가 가진 속성을 제외한 속성만을 구하는 연산.

### 일반 집합 연산자 - A
* 합집합(Union) : U 기호.두 릴레이션에 존재하는 튜플의 합집합을 구하되, 중복되는 튜플은 제거.
합집합의 카디널리티 <= 두 릴레이션 카디널리티의 합

* 교집합(Intersection) : ∩ 기호. 두 릴레이션의 튜플의 교집합을 구하는 연산.
교집합의 카디널리티 <= Min(두 릴레이션의 카디널리티)

* 차집합(Difference) : - 기호. 두 릴레이션에 존재하는 튜플의 차집합을 구하는 연산.
차집합의 카디널리티 <= 릴레이션의 카디널리티

* 교차곱(Cartesian Product) : X 기호. 두 릴레이션에 있는 튜플들의 순서쌍을 구하는 연산.
교차곱의 Degree = 두 릴레이션의 Degree 합.
교차곱의 Cardinality = 두 릴레이션의 Cardinality 곱.

# 데이터 입출력 구현 2

### 관계 해석 - A
관계 데이터의 연산을 표현하는 방법.
코드(E. F. Codd)가 수학의 술어해석에 기반을 두고 제안.
원하는 정보가 무엇이라는 것만 계산수식을 사용해 정의한다. 
튜플 관계 해석과 도메인 관계 해석으로 구분된다.

### 이상(Anomaly) - A
데이터들이 불필요하게 중복되어 릴레이션 조작시 발생하는 곤란한 현상

* 삽입 이상(Insertion Anomaly) : 테이블에 데이터를 삽입할 때 의도와 다른 값도 삽입되는 현상

* 삭제 이상(Deletion Anomaly) : 테이블에서 튜플을 삭제할 때, 의도와 상관없는 값도 같이 연쇄 삭제되는 현상

* 갱신 이상(Update Anomaly) : 테이블에서 튜플에 있는 속성 값을 갱신할 때, 일부 튜플의 정보만 갱신되어 정보에 불일치성(모순)이 생기는 현상

### 함수적 종속(Functional Dependency) - A
> 테이블 R. X와 Y는 R의 속성집합의 부분집합일 때. 속성 X의 값 각각이 항상 속성 Y의 오직 한 값만 연관되어 있을 때, `Y는 X에 함수적 종속` or `X가 Y를 함수적으로 결정` `X -> Y`로 표현한다.

* 완전 함수적 종속(`Full` ~) : Y가 X에 대해 함수적 종속이면서 X의 어떠한 부분집합 Z에도 함수적 종속이 아닐때 완전 함수적 종속이라 한다.

* 부분 함수적 종속(`Partional` ~) : Y가 X에 함수적 종속이면서 임의의 부분집합 Z에도 함수적 종속일때 부분 함수적 종속이라 한다.

* 이행적 함수적 종속(`Transitive` ~) : X->Y이고 Y->Z일때 X->Z를 만족하는 관계

***
## 정규화(Nomalization) - A
테이블의 속성들이 상호종속적 관계를 갖는 특성을 이용해 테이블을 무손실 분해하는 과정.
가능한 중복을 제거해 이상(Anomaly)의 발생 가능성을 줄이는게 목적.
정규형은 1NF -> 2NF -> 3NF -> BCNF -> 4NF -> 5NF로 갈수록 정규화 정도가 높아진다.

### 제 1 정규형(1NF)
> 모든 속성의 도메인이 원자 값(Atomic Value)만으로 되어 있는 테이블

### 제 2 정규형(2NF)
> 제 1 정규형을 만족하면서, 기본키가 아닌 모든 속성이 기본키에 대해 완전 함수적 종속을 만족하는 정규형
* 부분 함수적 종속을 제거하는 과정

### 제 3 정규형(3NF)
> 제 2 정규형을 만족하면서, 기본키가 아닌 모든 속성이 기본키에 대해 이행적 함수적 종속을 만족하지 않는 정규형
* X->Y && Y->Z 일 때, X->Z가 되는 이행적 함수적 종속을 제거한다.

### Boyce-Codd 정규형(BCNF)
> 제 3 정규형을 만족하면서, 모든 결정자가 후보키인 정규형.
* 일반적으로 제 3 정규형에 후보키가 중첩되어 나타나는 경우에 적용

### 제 4 정규형(4NF)
> BCNF를 만족하면서 다치 종속이 없는 정규형.
* 다치종속 : A->B일때 하나의 A 값에 여러개의 B값이 존재하면 다치종속. A->>B로 표현.

### 제 5 정규형(5NF)
> 제 4 정규형을 만족하면서 조인 종속이 없는 정규형.
* 조인 종속 : 하나의 릴레이션을 여러 개의 릴레이션으로 무손실 분해 했다가 다시 조인했을 때 원래의 릴레이션이 되면 조인 종속.



## 반정규화(Denormalization) - A
성능과 편의성을 위해 정규화를 거친 데이터 모델을 의도적으로 통합, 중복, 분리해 정규화 원칙을 위배하는 행위. 성능과 관리효율성은 증가하지만 데이터 일관성과 정합성이 저하될 수 있다.
과한 반정규화는 오히려 성능을 저해한다.

***

### 중복 테이블 추가
작업 효율성을 향상시키기위해 테이블을 추가
방법 : 집계 테이블, 진행 테이블, 특정 부분만 포함하는 테이블의 추가

### 시스템 카탈로그
시스템에 관련있는 다양한 객체에 대한 정보를 포함하는 `시스템 데이터베이스`
카탈로그가 생성되면 데이터 사전에 저장된다. 시스템 카탈로그에는 메타 데이터가 저장된다.
사용자를 포함해 모든 데이터 객체에 대한 정의와 명세 정보를 유지 관리하는 시스템 테이블.

## CRUD 분석
프로세스와 테이블간 CRUD 매트릭스를 만들어 트랜잭션을 분석

## 인덱스
색인. 데이터 레코드를 빠르게 접근하기 위해 <키값, 포인터> 쌍으로 구성되는 데이터 구조.
레코드가 저장된 물리적 구조에 접근하는 방법을 제공한다.
인덱스를 통해 파일의 레코드에 빠르게 엑세스할 수 있다.

## 트랜잭션
하나의 논리적 기능을 수행하기 위한 `작업의 논리적 단위`.
한꺼번에 모두 수행되어야 할 일련의 연산

### 트랜잭션의 특성 - A
* 원자성(Atomicity) : 트랜잭션의 연산은 모두 커밋되어 반영되거나 모두 롤백되어야 한다.
* 일관성(Consistency) : 트랜잭션의 실행이 완료되고 난 뒤에도 DB는 일관성을 유지해야 한다.
* 독립성(Isolation) : 트랜잭션이 동시에 실행되면 한 트랜잭션이 다른 트랜잭션 중간에 끼어들 수 없다.
* 지속성(Durability) : 성공한 트랜잭션의 결과는 시스템이 고장나더라도 영구적으로 반영되어야 한다.

# 데이터 입출력 구현 - 3

### 뷰
하나 이상의 기본테이블로 부터 유도된 이름을 가진 가상 테이블. 논리적 독립성을 가진다.
정의된 기본테이블이 제거되면 뷰도 자동적으로 제거.
뷰를 정의할땐 CREATE문, 제거할때는 DROP문을 쓴다.

### 파티션의 종류
물리 데이터 저장소의 파티션 설계에서 사용되는 파티션 유형
* 범위분할 : 지정한 열의 값을 기준으로 분할(월별,일별..)
* 해시분할 : 해시 함수를 적용한 결과 값에 따라 데이터를 분할. 데이터 분산에 유용.
* 조합분할 : 범위분할한 다음 해시분할. 범위분할한 파티션이 너무 클때 유용

### 분산 데이터베이스의 목표
분산 데이터베이스 : 논리적으로는 하나의 시스템이지만 물리적으로는 여러 사이트에 분산된 DB.
* 위치 투명성 : 엑세스할 때 실제 위치는 알 필요 없이 DB의 논리적 명칭만으로 엑세스 가능
* 중복 투명성 : 동일 데이터가 여러곳에 중복되어도 유저는 하나의 데이터만 존재하는 것 처럼 사용하고 시스템이 자동으로 수행.
* 병행 투명성 : 다수의 트랜잭션이 동시에 실현되도 그 트랜잭션의 결과는 영향받지 않음
* 장애 투명성 : 장애가 발생해도 트랜잭션은 정확하게 처리함

### RTO/RPO - A
* `RTO` : Recovery Time Objective. 목표 복구 시간. 업무중단시점~복구되어 가동될 때 까지 소요 시간
* RPO : Recovery Point Objective. 목표 복구 시점. 데이터 복구할 수 있는 기준점.

### 암호화
데이터 송신시 지정된 수신자 외에는 내용을 알 수 없도록 평문을 암호문으로 변환하는 것.
암호화 - 복호화
개인키암호방식과 공개키암호방식이 있다.

***

## 접근 통제(AC)
데이터가 저장된 객체와 사용하려는 주체 사이의 정보 흐름을 제한하는 것

### 임의접근통제(DAC) - A
데이터에 접근하는 사용자의 신원(Identify)에 따라 접근 권한을 부여하는 방식
`데이터 소유자`가 접근 통제 권한을 지정하고 제어한다.

### 강제접근통제(MAC)
주체와 객체의 등급을 비교해 접근 권한을 부여하는 방식.
`시스템`이 접근 통제 권한을 지정. 보안등급(Label)으로 접근 결정
객체별로 보안등급을 부여할 수 있고, 사용자별로 인가 등급을 부여할 수 있다.

### 역할기반접근통제(RBAC)
사용자의 역할(Role)에 따라 접근 권한을 부여
`중앙관리자`가 접근 통제 권한을 지정
다중프로그래밍 환경에 최적화된 방식

***
## 서버와 저장장치 연결 방법
### DAS
Direct Attached Storage. 서버(호스트)와 저장장치를 전용 케이블로 직접 연결하는 방식
다른 서버에서 접근할 수 없고 파일 공유 불가능

### NAS
Network Attached Storage. 서버와 저장장치를 네트워크를 통해 연결하는 방식
별도의 파일 관리 기능이 있는 Nas Storage가 내장된 저장장치를 직접 관리
Ethernet 스위치를 통해 다른 서버에서도 스토리지에 접근할 수 있어 파일 공유가 가능하다.

### SAN
Storage Area Network. DAS와 NAS의 장점을 혼합한 방식
서버와 저장장치를 연결하는 전용 네트워크를 별도로 구성하는 방식
파이버채널(광채널) 스위치를 이용해 네트워크를 구성
처리 속도가 빠르고 파일 공유가 가능하다.

***
## 자료구조
* 선형 자료구조 : 배열, 리스트, 스택, 큐, 데크
* 비선형 자료구조 : 트리, 그래프

### 스택
LIFO 후입선출. 한쪽 끝으로만 자료의 삽입과 삭제가 이루어지는 자료구조.
공간이 없을때 삽입하면 Overflow, 꺼낼게 없는데 꺼내면 Underflow가 발생

### 큐
FIFO 선입선출. 한쪽에서 삽입, 다른 쪽에서는 삭제가 이루어지는 자료구조.
시작을 표시하는 front 포인터와 끝을 표시하는 rear 포인터가 있다.

### 그래프의 최대 간선 수
* 방향 그래프의 최대 간선 수 :n(n-1)        n은 정점의 개수.
* 무방향 그래프의 최대 간선 수 : n(n-1)/2

### 트리
정점(Vertex, =Node)과 간선(Branch, =Link)를 이용해 사이클이 이루어 지지 않도록 구성한 특수한 그래프.
계층 형식의 비선형 구조.

* 루트노드(근노드) : 맨 위의 노드
* 차수(Degree) : 각 노드의 간선 수.
* 단말노드 = 리프노드 : 차수가 0인, 자식이 없는 마지막 노드
* 레벨 : 루트노드가 1이고 한차수씩 내려올수록 레벨 1씩 증가
* 깊이(Depth) : 트리에서 가질 수 있는 최대 레벨.
* 트리의 차수(Degree) : 노드들의 차수 중 max값

### 트리 운행법
이진 트리를 순회하며 노드들을 방문하는 순서
Preorder(전위순회) :`ROOT -> Left -> Right`
Inorder(중위순회) : `Left -> Root -> Right`
Postorder(후위순회) : `Left -> Right -> Root`

* Postfit(후위식) : 연산자를 피연산자뒤로 이동한 것. 해당 피연산자들 사이에 두면 우리가 아는 중위식이 된다.

***
## 정렬(Sort)

### 버블정렬(Bubble Sort)
인접한 두개의 레코드를 비교해 위치를 교환하는 방식
시간복잡도는 평균과 최악 모두 O(n^2)

### 선택정렬(Selection Sort)
최소값을 찾아 맨앞의 값을 뒤의 값들과 비교&교환. 그 다음 최소값을 찾아 앞쪽부분에 계속 쌓아나가는 방식
앞의 값 하나를 뒤의 값과 다 비교하면서 최소를 찾아 교환하는 것
시간복잡도는 평균과 최악 모두 O(n^2)

### 삽입정렬(Insertion Sort)
이미 순서화된 앞쪽에 새로운 뒤쪽의 레코드를 순서에 맞게 삽입시켜 정렬하는 방식
뒤의 값 하나를 앞쪽에 순서에 맞게 넣는 것
시간복잡도는 평균과 최악 모두 O(n^2)

### 퀵정렬(Quick Sort)
키(피벗)를 기준으로 작은 값은 왼쪽에, 큰 값은 오른쪽으로 교환해 정렬 하는 방식
하나의 파일을 부분적으로 나누어 가면서 정렬하는 방법이다.
시간복잡도는 평균 O(n log n), 최악O(n^2)

### 힙정렬(Heap Sort)
완전이진트리를 이용한 정렬 방식. 힙트리를 만들어 가장 큰 키를 맨 뒤부터 쌓는다.
시간복잡도는 최악과 평균 모두 O(n log n)

### 병합(합병)정렬(Merge Sort)
파일을 다 분해해 다시 합쳐가면서 정렬
시간복잡도는 평균과 최악 모두 O(n log n)


